"use strict";function e(e){var n={"あ":"A","い":"I","う":"U","え":"E","お":"O","か":"KA","き":"KI","く":"KU","け":"KE","こ":"KO","さ":"SA","し":"SHI","す":"SU","せ":"SE","そ":"SO","た":"TA","ち":"CHI","つ":"TSU","て":"TE","と":"TO","な":"NA","に":"NI","ぬ":"NU","ね":"NE","の":"NO","は":"HA","ひ":"HI","ふ":"FU","へ":"HE","ほ":"HO","ま":"MA","み":"MI","む":"MU","め":"ME","も":"MO","や":"YA","ゆ":"YU","よ":"YO","ら":"RA","り":"RI","る":"RU","れ":"RE","ろ":"RO","わ":"WA","を":"WO","が":"GA","ぎ":"GI","ぐ":"GU","げ":"GE","ご":"GO","ざ":"ZA","じ":"JI","ず":"ZU","ぜ":"ZE","ぞ":"ZO","だ":"DA","ぢ":"DI","づ":"DU","で":"DE","ど":"DO","ば":"BA","び":"BI","ぶ":"BU","べ":"BE","ぼ":"BO","ぱ":"PA","ぴ":"PI","ぷ":"PU","ぺ":"PE","ぽ":"PO","きゃ":"KYA","きゅ":"KYU","きょ":"KYO","ぎゃ":"GYA","ぎゅ":"GYU","ぎょ":"GYO","しゃ":"SHA","しゅ":"SHU","しょ":"SHO","じゃ":"JA","じゅ":"JU","じょ":"JO","ちゃ":"CHA","ちゅ":"CHU","ちょ":"CHO","ぢゃ":"DYA","ぢゅ":"DYU","ぢょ":"DYO","にゃ":"NYA","にゅ":"NYU","にょ":"NYO","ひゃ":"HYA","ひゅ":"HYU","ひょ":"HYO","びゃ":"BYA","びゅ":"BYU","びょ":"BYO","ぴゃ":"PYA","ぴゅ":"PYU","ぴょ":"PYO","みゃ":"MYA","みゅ":"MYU","みょ":"MYO","りゃ":"RYA","りゅ":"RYU","りょ":"RYO","ふぁ":"FA","ふぃ":"FI","ふぇ":"FE","ふぉ":"FO","ん":"N"},t="";if(!e)return"";for(;e.length>0;){var r=e.charAt(0),i=e.slice(0,2);"っ"==r?(t+="@",e=e.slice(1)):2==i.length&&n[i]?(t+=n[i],e=e.slice(2)):1==r.length&&n[r]?(t+=n[r],e=e.slice(1)):(t+=e.charAt(0),e=e.slice(1))}return t.replace(/@(\w)/g,"$1$1")}function n(e){var n=e,t=function(e){var t=e.charCodeAt(0).toString(16).toUpperCase(),r=n.r[t];if(r){a={};if(r.on){a.on=[];for(i=0;i<r.on.length;i++)a.on.push(r.on[i])}if(r.kun){a.kun=[];for(var i=0;i<r.kun.length;i++)a.kun.push(r.kun[i])}return a.kanji=e,a}if((t=n.v[t])&&(r=n.r[t])){var a={kanji:String.fromCharCode(parseInt(t,16)),origInput:e};return r.on&&(a.on=r.on),r.kun&&(a.kun=r.kun),a}};this.getFromText=function(e){if("string"==typeof e){for(var n={},r=0;r<e.length;r++){var i=e.charAt(r);if(!n[i]){var a=t(i);a&&(n[i]=a)}}return n}}}function t(e){for(var n=0,t=0;t<e.length;t++)n=62*n+"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e[t]);return n}function r(e){if(Array.isArray(e)){for(var n=[],t=e.length,i=0;i<t;i++)n.push(r(e[i]));return n}for(var a={0:"あ",1:"い",2:"う",3:"え",4:"お",5:"ぁ",6:"ぃ",7:"ぅ",8:"ぇ",9:"ぉ",A:"か",B:"き",C:"く",D:"け",E:"こ",F:"さ",G:"し",H:"す",I:"せ",J:"そ",K:"た",L:"ち",M:"つ",N:"て",O:"と",P:"な",Q:"に",R:"ぬ",S:"ね",T:"の",U:"は",V:"ひ",W:"ふ",X:"へ",Y:"ほ",Z:"ま",a:"み",b:"む",c:"め",d:"も",e:"や",f:"ゆ",g:"よ",h:"ら",i:"り",j:"る",k:"れ",l:"ろ",m:"わ",n:"を",o:"が",p:"ぎ",q:"ぐ",r:"げ",s:"ご",t:"ざ",u:"じ",v:"ず",w:"ぜ",x:"ぞ",y:"だ",z:"ぢ","!":"づ","#":"で",$:"ど","%":"ば","&":"び","(":"ぶ",")":"べ","*":"ぼ","+":"ぱ","-":"ぷ",".":"ぴ","/":"ぺ",":":"ぽ",";":"ん","<":"ゃ","=":"ゅ",">":"ょ","?":"っ"},n="",t=e.length,i=0;i<t;i++)n+=a[e[i]];return n}function i(e){for(var n=[],i=(n=e.split("\n")).length,a={r:[],v:[]},o=void 0,u=0;u<i;u++){var l=n[u];if("[Readings]"==l)o="r";else if("[Variants]"==l)o="v";else if("r"==o){var s=t(l.slice(0,3)).toString(16).toUpperCase(),p=l.slice(3).split("\t");a.r[s]={},p[0]&&(a.r[s].on=r(p[0].split(","))),p[1]&&(a.r[s].kun=r(p[1].split(",")))}else if("v"==o){var d=t(l.slice(0,3)).toString(16).toUpperCase(),g=t(l.slice(3,6)).toString(16).toUpperCase();a.v[d]=g}}return a}var a=new function(e){var n=[];for(var t in e)n.push(t);var r=navigator,i=(r.language||r.userLanguage).slice(0,2);e[i]||(i=n[0]),this.get=function(t){var r=e[i][t];return r||e[n[0]][t]},this.getAll=function(){return e[i]}}({en:{title:"Japanese Kanji Readings",prompt:"Input Kanji",onReading:"On Reading:",kunReading:"Kun Reading:"},zh:{title:"日文汉字读音查询工具",prompt:"请输入待查询的汉字",onReading:"音读:",kunReading:"训读："},ja:{title:"漢字の読み方",prompt:"漢字を入力してください",onReading:"音読み:",kunReading:"訓読み:"}}),o=document;o.title=a.get("title");var u=void 0,l=o.getElementById("kanji_search");l.setAttribute("placeholder",a.get("prompt"));var s=o.getElementById("search_result"),p=function(n,t){for(var r=0;r<t.length;r++){var i=o.createElement("span");i.innerHTML=t[r]+"<u> "+e(t[r])+"</u>",n.appendChild(i)}},d=function(e){var n=o.createElement("h3");n.innerHTML=e.kanji,e.origInput&&(n.innerHTML+="<i>（"+e.origInput+"）</i>");var t=o.createElement("table");if(e.on){r=t.insertRow(-1);(i=o.createElement("th")).innerHTML=a.get("onReading"),r.appendChild(i);u=o.createElement("td");p(u,e.on),r.appendChild(u)}if(e.kun){var r=t.insertRow(-1),i=o.createElement("th");i.innerHTML=a.get("kunReading"),r.appendChild(i);var u=o.createElement("td");p(u,e.kun),r.appendChild(u)}var l=o.createElement("p");return l.appendChild(n),l.appendChild(t),l},g=function(e){if(s.innerHTML="",u){var n=u.getFromText(e);for(var t in n)s.appendChild(d(n[t]))}};l.addEventListener("input",function(){g(this.value)}),l.addEventListener("change",function(){g(this.value)}),l.addEventListener("blur",function(){g(this.value)});var v=new XMLHttpRequest;v.addEventListener("readystatechange",function(){4==this.readyState&&200==this.status&&(o.body.removeAttribute("loading"),u=new n(i(this.response)))}),v.open("GET","readings.txt"),v.send();